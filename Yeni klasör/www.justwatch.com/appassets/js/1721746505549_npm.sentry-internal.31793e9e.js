
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ef5c8ea2-c522-5606-9d1e-8ced9cc073b9")}catch(e){}}();
(window.webpackJsonp=window.webpackJsonp||[]).push([["npm.sentry-internal"],{"0c45":function(t,e,n){"use strict";n.d(e,"a",(function(){return Nt}));var r=n("d5ab2"),a=n("e436"),i=n("d8b6"),o=n("b9f7"),s=n("02c5"),c=n("f0b6"),u=n("f324"),d=n("bc5b");const p="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var l=n("8bff");const m=n("adbc").a;var g=n("a5189");const f=(t,e,n)=>{let r,a;return i=>{e.value>=0&&(i||n)&&(a=e.value-(r||0),(a||void 0===r)&&(r=e.value,e.delta=a,t(e)))}},h=()=>m.__WEB_VITALS_POLYFILL__?m.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const t=m.performance.timing,e=m.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"};for(const e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n})()):m.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],v=()=>{const t=h();return t&&t.activationStart||0},b=(t,e)=>{const n=h();let r="navigate";return n&&(r=m.document&&m.document.prerendering||v()>0?"prerender":n.type.replace(/_/g,"-")),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},T=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(t=>{e(t.getEntries())});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},_=(t,e)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==m.document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};m.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let y=-1;const O=()=>(y<0&&(m.document&&m.document.visibilityState&&(y="hidden"!==m.document.visibilityState||m.document.prerendering?1/0:0),_(({timeStamp:t})=>{y=t},!0)),{get firstHiddenTime(){return y}});let S=0,k=1/0,j=0;const I=t=>{t.forEach(t=>{t.interactionId&&(k=Math.min(k,t.interactionId),j=Math.max(j,t.interactionId),S=j?(j-k)/7+1:0)})};let w;const E=()=>w?S:performance.interactionCount||0,R=[],C={},L=t=>{const e=R[R.length-1],n=C[t.interactionId];if(n||R.length<10||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{const e={id:t.interactionId,latency:t.duration,entries:[t]};C[e.id]=e,R.push(e)}R.sort((t,e)=>e.latency-t.latency),R.splice(10).forEach(t=>{delete C[t.id]})}},x=(t,e)=>{e=e||{},"interactionCount"in performance||w||(w=T("event",I,{type:"event",buffered:!0,durationThreshold:0}));const n=b("INP");let r;const a=t=>{t.forEach(t=>{if(t.interactionId&&L(t),"first-input"===t.entryType){!R.some(e=>e.entries.some(e=>t.duration===e.duration&&t.startTime===e.startTime))&&L(t)}});const e=(()=>{const t=Math.min(R.length-1,Math.floor(E()/50));return R[t]})();e&&e.latency!==n.value&&(n.value=e.latency,n.entries=e.entries,r())},i=T("event",a,{durationThreshold:e.durationThreshold||40});r=f(t,n,e.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),_(()=>{a(i.takeRecords()),n.value<0&&E()>0&&(n.value=0,n.entries=[]),r(!0)}))},M={},P=t=>{m.document&&(m.document.prerendering?addEventListener("prerenderingchange",()=>P(t),!0):"complete"!==m.document.readyState?addEventListener("load",()=>P(t),!0):setTimeout(t,0))},H={},q={};let N,A,F,B,D;function $(t,e){return Y(t,e),q[t]||(!function(t){const e={};"event"===t&&(e.durationThreshold=0);T(t,e=>{z(t,{entries:e})},e)}(t),q[t]=!0),K(t,e)}function z(t,e){const n=H[t];if(n&&n.length)for(const r of n)try{r(e)}catch(e){p&&c.c.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Object(g.b)(r)}\nError:`,e)}}function U(){return((t,e={})=>{const n=b("CLS",0);let r,a=0,i=[];const o=t=>{t.forEach(t=>{if(!t.hadRecentInput){const e=i[0],o=i[i.length-1];a&&0!==i.length&&t.startTime-o.startTime<1e3&&t.startTime-e.startTime<5e3?(a+=t.value,i.push(t)):(a=t.value,i=[t]),a>n.value&&(n.value=a,n.entries=i,r&&r())}})},s=T("layout-shift",o);if(s){r=f(t,n,e.reportAllChanges);const a=()=>{o(s.takeRecords()),r(!0)};return _(a),a}})(t=>{z("cls",{metric:t}),N=t},{reportAllChanges:!0})}function X(){return(t=>{const e=O(),n=b("FID");let r;const a=t=>{t.startTime<e.firstHiddenTime&&(n.value=t.processingStart-t.startTime,n.entries.push(t),r(!0))},i=t=>{t.forEach(a)},o=T("first-input",i);r=f(t,n),o&&_(()=>{i(o.takeRecords()),o.disconnect()},!0)})(t=>{z("fid",{metric:t}),A=t})}function W(){return(t=>{const e=O(),n=b("LCP");let r;const a=t=>{const a=t[t.length-1];if(a){const t=Math.max(a.startTime-v(),0);t<e.firstHiddenTime&&(n.value=t,n.entries=[a],r())}},i=T("largest-contentful-paint",a);if(i){r=f(t,n);const e=()=>{M[n.id]||(a(i.takeRecords()),i.disconnect(),M[n.id]=!0,r(!0))};return["keydown","click"].forEach(t=>{m.document&&addEventListener(t,e,{once:!0,capture:!0})}),_(e,!0),e}})(t=>{z("lcp",{metric:t}),F=t})}function G(){return((t,e)=>{e=e||{};const n=b("TTFB"),r=f(t,n,e.reportAllChanges);P(()=>{const t=h();if(t){if(n.value=Math.max(t.responseStart-v(),0),n.value<0||n.value>performance.now())return;n.entries=[t],r(!0)}})})(t=>{z("ttfb",{metric:t}),B=t})}function J(){return x(t=>{z("inp",{metric:t}),D=t})}function V(t,e,n,r,a=!1){let i;return Y(t,e),q[t]||(i=n(),q[t]=!0),r&&e({metric:r}),K(t,e,a?i:void 0)}function Y(t,e){H[t]=H[t]||[],H[t].push(e)}function K(t,e,n){return()=>{n&&n();const r=H[t];if(!r)return;const a=r.indexOf(e);-1!==a&&r.splice(a,1)}}var Q=n("3c10"),Z=n("ec1d"),tt=n("a448"),et=n("15d6"),nt=n("3381"),rt=n("91db"),at=n("0d3a");function it(t){return"number"==typeof t&&isFinite(t)}function ot(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}function st(t){return t/1e3}function ct(){return m&&m.addEventListener&&m.performance}let ut,dt,pt=0,lt={};function mt(){const t=ct();if(t&&rt.a){t.mark&&m.performance.mark("sentry-tracing-init");const e=V("fid",({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=st(rt.a),r=st(e.startTime);p&&c.c.log("[Measurements] Adding FID"),lt.fid={value:t.value,unit:"millisecond"},lt["mark.fid"]={value:n+r,unit:"second"}},X,A),n=function(t,e=!1){return V("cls",t,U,N,e)}(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(p&&c.c.log("[Measurements] Adding CLS"),lt.cls={value:t.value,unit:""},dt=e)},!0),r=function(t,e=!1){return V("lcp",t,W,F,e)}(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(p&&c.c.log("[Measurements] Adding LCP"),lt.lcp={value:t.value,unit:"millisecond"},ut=e)},!0),a=function(){return t=({metric:t})=>{t.entries[t.entries.length-1]&&(p&&c.c.log("[Measurements] Adding TTFB"),lt.ttfb={value:t.value,unit:"millisecond"})},V("ttfb",t,G,B);var t}();return()=>{e(),n(),r(),a()}}return()=>{}}function gt(t,e){if(ct()&&rt.a){const n=function(t,e){return n=({metric:n})=>{if(void 0===n.value)return;const r=n.entries.find(t=>t.duration===n.value&&void 0!==ft[t.name]),a=Object(s.g)();if(!r||!a)return;const i=ft[r.name],o=a.getOptions(),u=st(rt.a+r.startTime),l=st(n.value),g=void 0!==r.interactionId?t[r.interactionId]:void 0;if(void 0===g)return;const{routeName:f,parentContext:h,activeTransaction:v,user:b,replayId:T}=g,_=void 0!==b?b.email||b.id||b.ip_address:void 0,y=void 0!==v?v.getProfileId():void 0,O=new Q.a({startTimestamp:u,endTimestamp:u+l,op:"ui.interaction."+i,name:Object(d.d)(r.target),attributes:{release:o.release,environment:o.environment,transaction:f,...void 0!==_&&""!==_?{user:_}:{},...void 0!==y?{profile_id:y}:{},...void 0!==T?{replay_id:T}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),S=function(t,e,n){if(!Object(et.a)(e))return!1;let r;return r=void 0!==t&&"function"==typeof e.tracesSampler?e.tracesSampler({transactionContext:t,name:t.name,parentSampled:t.parentSampled,attributes:{...t.data,...t.attributes},location:m.location}):void 0!==t&&void 0!==t.sampled?t.sampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1,Object(nt.a)(r)?!0===r?n:!1===r?0:r*n:(p&&c.c.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(h,o,e);if(S&&Math.random()<S){const t=O?Object(Z.a)([O],a.getDsn()):void 0,e=a&&a.getTransport();e&&t&&e.send(t).then(null,t=>{p&&c.c.error("Error while sending interaction:",t)})}},V("inp",n,J,D);var n}(t,e);return()=>{n()}}return()=>{}}const ft={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function ht(t){const e=ct();if(!e||!m.performance.getEntries||!rt.a)return;p&&c.c.log("[Tracing] Adding & adjusting spans using Performance API");const n=st(rt.a),r=e.getEntries(),{op:a,start_timestamp:i}=Object(l.e)(t);if(r.slice(pt).forEach(e=>{const r=st(e.startTime),a=st(e.duration);if(!("navigation"===t.op&&i&&n+r<i))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{vt(t,e,r,n)}),vt(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),vt(t,e,"fetch",n,"cache","domainLookupStart"),vt(t,e,"domainLookup",n,"DNS"),function(t,e,n){e.responseEnd&&(ot(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+st(e.requestStart),endTimestamp:n+st(e.responseEnd)}),ot(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+st(e.responseStart),endTimestamp:n+st(e.responseEnd)}))}(t,e,n)}(t,e,n);break;case"mark":case"paint":case"measure":{!function(t,e,n,r,a){const i=a+n,o=i+r;ot(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(t,e,r,a,n);const i=O(),o=e.startTime<i.firstHiddenTime;"first-paint"===e.name&&o&&(p&&c.c.log("[Measurements] Adding FP"),lt.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&o&&(p&&c.c.log("[Measurements] Adding FCP"),lt.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":!function(t,e,n,r,a,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const o=Object(at.a)(n),s={};bt(s,e,"transferSize","http.response_transfer_size"),bt(s,e,"encodedBodySize","http.response_content_length"),bt(s,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(s["resource.render_blocking_status"]=e.renderBlockingStatus);o.protocol&&(s["url.scheme"]=o.protocol.split(":").pop());o.host&&(s["server.address"]=o.host);s["url.same_origin"]=n.includes(m.location.origin);const c=i+r,u=c+a;ot(t,{description:n.replace(m.location.origin,""),endTimestamp:u,op:e.initiatorType?"resource."+e.initiatorType:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:s})}(t,e,e.name,r,a,n)}}),pt=Math.max(r.length-1,0),function(t){const e=m.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),it(n.rtt)&&(lt["connection.rtt"]={value:n.rtt,unit:"millisecond"}));it(e.deviceMemory)&&t.setTag("deviceMemory",e.deviceMemory+" GB");it(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===a){!function(t){const e=h();if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(p&&c.c.log("[Measurements] Adding TTFB Request Time"),t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(lt),["fcp","fp","lcp"].forEach(t=>{if(!lt[t]||!i||n>=i)return;const e=lt[t].value,r=n+st(e),a=Math.abs(1e3*(r-i)),o=a-e;p&&c.c.log(`[Measurements] Normalized ${t} from ${e} to ${a} (${o})`),lt[t].value=a});const e=lt["mark.fid"];e&&lt.fid&&(ot(t,{description:"first input delay",endTimestamp:e.value+st(lt.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:e.value}),delete lt["mark.fid"]),"fcp"in lt||delete lt.cls,Object.keys(lt).forEach(t=>{Object(tt.a)(t,lt[t].value,lt[t].unit)}),function(t){ut&&(p&&c.c.log("[Measurements] Adding LCP Data"),ut.element&&t.setTag("lcp.element",Object(d.d)(ut.element)),ut.id&&t.setTag("lcp.id",ut.id),ut.url&&t.setTag("lcp.url",ut.url.trim().slice(0,200)),t.setTag("lcp.size",ut.size));dt&&dt.sources&&(p&&c.c.log("[Measurements] Adding CLS Data"),dt.sources.forEach((e,n)=>t.setTag("cls.source."+(n+1),Object(d.d)(e.node))))}(t)}ut=void 0,dt=void 0,lt={}}function vt(t,e,n,r,a,i){const o=i?e[i]:e[n+"End"],s=e[n+"Start"];s&&o&&ot(t,{op:"browser",origin:"auto.browser.browser.metrics",description:a||n,startTimestamp:r+st(s),endTimestamp:r+st(o)})}function bt(t,e,n,r){const a=e[n];null!=a&&a<2147483647&&(t[r]=a)}var Tt=n("20bd"),_t=n("1888"),yt=n("1463"),Ot=n("dffb"),St=n("9175"),kt=n("d564"),jt=n("fbdd"),It=n("8d77"),wt=n("f404");function Et(t,e,n,r,a="auto.http.browser"){if(!Object(et.a)()||!t.fetchData)return;const i=e(t.fetchData.url);if(t.endTimestamp&&i){const e=t.fetchData.__span;if(!e)return;const n=r[e];return void(n&&(!function(t,e){if(e.response){Object(Tt.a)(t,e.response.status);const n=e.response&&e.response.headers&&e.response.headers.get("content-length");if(n){const e=parseInt(n);e>0&&t.setAttribute("http.response_content_length",e)}}else e.error&&t.setStatus("internal_error");t.end()}(n,t),delete r[e]))}const c=Object(s.h)(),d=Object(s.g)(),{method:p,url:m}=t.fetchData,g=function(t){try{return new URL(t).href}catch(t){return}}(m),f=g?Object(at.a)(g).host:void 0,h=i?Object(yt.c)({name:`${p} ${m}`,onlyIfParent:!0,attributes:{url:m,type:"fetch","http.method":p,"http.url":g,"server.address":f,[o.c]:a},op:"http.client"}):void 0;if(h&&(t.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(t.fetchData.url)&&d){const e=t.args[0];t.args[1]=t.args[1]||{};const n=t.args[1];n.headers=function(t,e,n,r,a){const i=a||n.getSpan(),o=Object(_t.b)(),{traceId:s,spanId:c,sampled:d,dsc:p}={...o.getPropagationContext(),...n.getPropagationContext()},m=i?Object(l.g)(i):Object(u.b)(s,c,d),g=Object(It.c)(p||(i?Object(Ot.b)(i):Object(Ot.a)(s,e,n))),f=r.headers||("undefined"!=typeof Request&&Object(wt.g)(t,Request)?t.headers:void 0);if(f){if("undefined"!=typeof Headers&&Object(wt.g)(f,Headers)){const t=new Headers(f);return t.append("sentry-trace",m),g&&t.append(It.a,g),t}if(Array.isArray(f)){const t=[...f,["sentry-trace",m]];return g&&t.push([It.a,g]),t}{const t="baggage"in f?f.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),g&&e.push(g),{...f,"sentry-trace":m,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":m,baggage:g}}(e,d,c,n,h)}return h}const Rt=["localhost",/^\/(?!\/)/],Ct={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Rt,tracePropagationTargets:Rt};function Lt(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:a,shouldCreateSpanForRequest:i,enableHTTPTimings:c}={traceFetch:Ct.traceFetch,traceXHR:Ct.traceXHR,...t},d="function"==typeof i?i:t=>!0,p=t=>function(t,e){return Object(jt.c)(t,e||Rt)}(t,r||a),m={};e&&Object(St.a)(t=>{const e=Et(t,d,p,m);if(e){const n=Pt(t.fetchData.url),r=n?Object(at.a)(n).host:void 0;e.setAttributes({"http.url":n,"server.address":r})}c&&e&&xt(e)}),n&&Object(kt.b)(t=>{const e=function(t,e,n,r){const a=t.xhr,i=a&&a[kt.a];if(!Object(et.a)()||!a||a.__sentry_own_request__||!i)return;const c=e(i.url);if(t.endTimestamp&&c){const t=a.__sentry_xhr_span_id__;if(!t)return;const e=r[t];return void(e&&void 0!==i.status_code&&(Object(Tt.a)(e,i.status_code),e.end(),delete r[t]))}const d=Object(s.h)(),p=Object(_t.b)(),m=Pt(i.url),g=m?Object(at.a)(m).host:void 0,f=c?Object(yt.c)({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":m,url:i.url,"server.address":g,[o.c]:"auto.http.browser"},op:"http.client"}):void 0;f&&(a.__sentry_xhr_span_id__=f.spanContext().spanId,r[a.__sentry_xhr_span_id__]=f);const h=Object(s.g)();if(a.setRequestHeader&&n(i.url)&&h){const{traceId:t,spanId:e,sampled:n,dsc:r}={...p.getPropagationContext(),...d.getPropagationContext()},i=f?Object(l.g)(f):Object(u.b)(t,e,n),o=Object(It.c)(r||(f?Object(Ot.b)(f):Object(Ot.a)(t,h,d)));!function(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(It.a,n)}catch(t){}}(a,i,o)}return f}(t,d,p,m);c&&e&&xt(e)})}function xt(t){const{url:e}=Object(l.e)(t).data||{};if(!e||"string"!=typeof e)return;const n=$("resource",({entries:r})=>{r.forEach(r=>{if(function(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"==typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}(r)&&r.name.endsWith(e)){(function(t){const{name:e,version:n}=function(t){let e="unknown",n="unknown",r="";for(const a of t){if("/"===a){[e,n]=t.split("/");break}if(!isNaN(Number(a))){e="h"===r?"http":r,n=t.split(r)[1];break}r+=a}r===t&&(e=r);return{name:e,version:n}}(t.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",e]),!rt.a)return r;return[...r,["http.request.redirect_start",Mt(t.redirectStart)],["http.request.fetch_start",Mt(t.fetchStart)],["http.request.domain_lookup_start",Mt(t.domainLookupStart)],["http.request.domain_lookup_end",Mt(t.domainLookupEnd)],["http.request.connect_start",Mt(t.connectStart)],["http.request.secure_connection_start",Mt(t.secureConnectionStart)],["http.request.connection_end",Mt(t.connectEnd)],["http.request.request_start",Mt(t.requestStart)],["http.request.response_start",Mt(t.responseStart)],["http.request.response_end",Mt(t.responseEnd)]]})(r).forEach(e=>t.setAttribute(...e)),setTimeout(n)}})})}function Mt(t=0){return((rt.a||performance.timeOrigin)+t)/1e3}function Pt(t){try{return new URL(t,m.location.origin).href}catch(t){return}}var Ht=n("bcac");const qt={...r.b,markBackgroundTransactions:!0,routingInstrumentation:function(t,e=!0,n=!0){if(!m||!m.location)return void(p&&c.c.warn("Could not initialize routing instrumentation due to invalid location"));let r,a=m.location.href;e&&(r=t({name:m.location.pathname,startTimestamp:rt.a?rt.a/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Object(Ht.a)(({to:e,from:n})=>{void 0===n&&a&&-1!==a.indexOf(e)?a=void 0:n!==e&&(a=void 0,r&&(p&&c.c.log("[Tracing] Finishing current transaction with op: "+r.op),r.end()),r=t({name:m.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Ct};class Nt{constructor(t){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,Object(a.a)(),p&&(this._hasSetTracePropagationTargets=!(!t||!t.tracePropagationTargets&&!t.tracingOrigins)),this.options={...qt,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=mt(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&gt(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&$("longtask",({entries:t})=>{for(const e of t){const t=Object(i.a)();if(!t)return;const n=st(rt.a+e.startTime),r=st(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}),this.options._experiments.enableInteractions&&$("event",({entries:t})=>{for(const e of t){const t=Object(i.a)();if(!t)return;if("click"===e.name){const n=st(rt.a+e.startTime),r=st(e.duration),a={description:Object(d.d)(e.target),op:"ui.interaction."+e.name,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=Object(d.a)(e.target);i&&(a.attributes={"ui.component_name":i}),t.startChild(a)}}}),this._latestRoute={name:void 0,context:void 0}}setupOnce(t,e){this._getCurrentHub=e;const n=e().getClient(),r=n&&n.getOptions(),{routingInstrumentation:a,startTransactionOnLocationChange:o,startTransactionOnPageLoad:s,markBackgroundTransactions:u,traceFetch:d,traceXHR:g,shouldCreateSpanForRequest:f,enableHTTPTimings:h,_experiments:v}=this.options,b=r&&r.tracePropagationTargets,T=b||this.options.tracePropagationTargets;p&&this._hasSetTracePropagationTargets&&b&&c.c.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),a(t=>{const n=this._createRouteTransaction(t);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,t,e),n},s,o),u&&(m.document?m.document.addEventListener("visibilitychange",()=>{const t=Object(i.a)();if(m.document.hidden&&t){const e="cancelled",{op:n,status:r}=Object(l.e)(t);p&&c.c.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}}):p&&c.c.warn("[Tracing] Could not set up background tab detection due to lack of global document")),v.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Lt({traceFetch:d,traceXHR:g,tracePropagationTargets:T,shouldCreateSpanForRequest:f,enableHTTPTimings:h})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(p&&c.c.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const e=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:i,heartbeatInterval:o}=this.options,s="pageload"===t.op;let d;if(s){const e=s?At("sentry-trace"):"",n=s?At("baggage"):void 0,{traceId:r,dsc:a,parentSpanId:i,sampled:o}=Object(u.c)(e,n);d={traceId:r,parentSpanId:i,parentSampled:o,...t,metadata:{...t.metadata,dynamicSamplingContext:a},trimEnd:!0}}else d={trimEnd:!0,...t};const l="function"==typeof n?n(d):d,g=void 0===l?{...d,sampled:!1}:l;g.metadata=g.name!==d.name?{...g.metadata,source:"custom"}:g.metadata,this._latestRoute.name=g.name,this._latestRoute.context=g,!1===g.sampled&&p&&c.c.log(`[Tracing] Will not send ${g.op} transaction because of beforeNavigate.`),p&&c.c.log(`[Tracing] Starting ${g.op} transaction on scope`);const{location:f}=m,h=Object(a.b)(e,g,r,i,!0,{location:f},o,s);return s&&m.document&&(m.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(m.document.readyState)&&h.sendAutoFinishSignal()}),["interactive","complete"].includes(m.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback(t=>{this._collectWebVitals(),ht(t)}),h}_registerInteractionListener(){let t;const e=()=>{const{idleTimeout:e,finalTimeout:n,heartbeatInterval:r}=this.options,s="ui.action.click",u=Object(i.a)();if(u&&u.op&&["navigation","pageload"].includes(u.op))return void(p&&c.c.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub)return void(p&&c.c.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(p&&c.c.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const d=this._getCurrentHub(),{location:l}=m,g={name:this._latestRoute.name,op:s,trimEnd:!0,data:{[o.e]:this._latestRoute.context?Ft(this._latestRoute.context):"url"}};t=Object(a.b)(d,g,e,n,!0,{location:l},r)};["click"].forEach(t=>{m.document&&addEventListener(t,e,{once:!1,capture:!0})})}_registerInpInteractionListener(){const t=({entries:t})=>{const e=Object(s.g)(),n=void 0!==e&&void 0!==e.getIntegrationByName?e.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,a=Object(i.a)(),o=Object(s.h)(),c=void 0!==o?o.getUser():void 0;t.forEach(t=>{if(function(t){return"duration"in t}(t)){const e=t.interactionId;if(void 0===e)return;const n=this._interactionIdToRouteNameMapping[e],i=t.duration,o=t.startTime,s=Object.keys(this._interactionIdToRouteNameMapping),u=s.length>0?s.reduce((t,e)=>this._interactionIdToRouteNameMapping[t].duration<this._interactionIdToRouteNameMapping[e].duration?t:e):void 0;if("first-input"===t.entryType){if(s.map(t=>this._interactionIdToRouteNameMapping[t]).some(t=>t.duration===i&&t.startTime===o))return}if(!e)return;if(n)n.duration=Math.max(n.duration,i);else if(s.length<10||void 0===u||i>this._interactionIdToRouteNameMapping[u].duration){const t=this._latestRoute.name,n=this._latestRoute.context;t&&n&&(u&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[u],this._interactionIdToRouteNameMapping[e]={routeName:t,duration:i,parentContext:n,user:c,activeTransaction:a,replayId:r,startTime:o})}}})};$("event",t),$("first-input",t)}}function At(t){const e=Object(d.b)(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function Ft(t){const e=t.attributes&&t.attributes[o.e],n=t.data&&t.data[o.e],r=t.metadata&&t.metadata.source;return e||n||r}}}]);
//# sourceMappingURL=1721746505549_npm.sentry-internal.31793e9e.js.map
//# debugId=ef5c8ea2-c522-5606-9d1e-8ced9cc073b9
