
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="43b01834-1453-511e-b8af-b01d42c1e28b")}catch(e){}}();
(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8d1f912c","chunk-f2267d0c"],{"0f20":function(e,t,r){(t=r("24fb")(!1)).push([e.i,":root{--border-secondary:#657182;--border-secondary-medium:#c6c8cd;--border-primary:#fbc500;--border-radius-xs:4px;--border-radius-sm:8px;--border-radius-md:12px;--border-width-100:1px;--border-width-200:2px;--link-link-medium:#78a6b8;--text-high-default:#fff;--text-medium-default:#b9bdcc;--background-medium:#111924;--background-medium-active:#222c38}.provider-icon,.provider-icon img{border-radius:20%}.provider-icon--labelled{overflow:hidden;height:100%;display:flex;justify-content:center;align-items:center;font-size:1.2rem}.provider-icon--labelled.timeline__provider-block__logo{font-size:.7rem}.provider-icon .ribbon{position:absolute;top:6px;right:-10px;width:100%;text-align:center;background-color:#d5d5d5;color:#1c252f;font-size:9px;font-weight:700;padding:0 4px;border-radius:0 0 0 5px;z-index:1;transform:rotate(45deg)}",""]),e.exports=t},1954:function(e,t,r){"use strict";(function(e){var i=r("9ab4"),o=r("2b0e"),s=r("1b40"),a=r("4bb5"),d=r("9540"),n=r("1441"),c=r("5216"),l=r("6fb7"),p=r("5025"),u=r("f81c"),v=r("3040"),b=r("76f1"),g=r("c537"),h=r("7cc8"),f=r("f95d");function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=Object(a.a)("constant"),_=Object(a.a)("filter"),P=Object(a.a)("language"),O=Object(a.a)("routing"),I=Object(a.a)("user");let j=class extends o.default{constructor(...e){super(...e),y(this,"_providersById",void 0),y(this,"isModalOpening",!1),y(this,"providerUrls",{}),y(this,"upcomingProvidersData",void 0),y(this,"addButtonVisible",void 0),y(this,"showAddButtonFirst",void 0),y(this,"collectionType",void 0),y(this,"newPageType",void 0),y(this,"currentFilters",void 0),y(this,"providersClickable",void 0),y(this,"userProviders",void 0),y(this,"userSettings",void 0),y(this,"webLocale",void 0),y(this,"updateRouteState",void 0),y(this,"trackEvent",void 0),y(this,"userSelectedPackages",void 0),y(this,"genresByShortName",void 0),y(this,"allProvidersById",void 0),y(this,"providers",void 0),y(this,"providersByShortName",void 0),y(this,"SET_UPCOMING_PROVIDERS",void 0),y(this,"toggle",void 0),y(this,"language",void 0),y(this,"country",void 0),y(this,"activeRoute",void 0),y(this,"settings",void 0)}get IMG_PROVIDERS_BAR_LOAD_COUNT(){return e.IMG_PROVIDERS_BAR_LOAD_COUNT}get plusIcon(){return"/appassets/img/plus_icon.png"}get plusIconIsVisible(){var e;return this.addButtonVisible?(null===(e=this.settings)||void 0===e||null===(e=e.providers)||void 0===e?void 0:e.length)>0:this.addButtonVisible}get filteredProviders(){return this.userProviders}get recalculatedProviderUrlProp(){return`${this.webLocale}_${this.isPricedropsPage?"pricedrop":"normal"}`}get isPricedropsPage(){var e;return this.collectionType===l.a.NEW&&(null===(e=this.$route.meta)||void 0===e?void 0:e.newPageType)===b.p.PriceDrop}get providerTag(){return this.isPricedropsPage?"button":"a"}onProvidersChange(){this._providersById=this.allProvidersById}async onRecalculatedProviderUrlPropChange(){const e=this.providersByShortName,t=this.genresByShortName;this.isPricedropsPage?this.providerUrls={}:this.providerUrls=this.userProviders.reduce((r,i)=>(r[i.shortName]=Object(v.c)(this.$router,void 0,this.collectionType,{...this.currentFilters,providers:[i.shortName]},e,t),r),{})}providerClicked(e){if(this.providersClickable){const t={filterName:"providers",value:e,selectedState:this.isFiltersContainsProvider(e)?0:1,updateRouteState:this.updateRouteState,userSelectedPackages:this.userSelectedPackages,trackEvent:this.trackEvent};this.toggle(t),this.$emit("toggle",t)}}isFiltersContainsProvider(e){return this.currentFilters.providers.includes(e)}isProviderActive(e){return 0===this.currentFilters.providers.length||this.isFiltersContainsProvider(e)}isProviderDisabled(e){var t;return this.collectionType===l.a.UPCOMING&&!(null!==(t=this.upcomingProvidersData)&&void 0!==t&&t.has(e))}async openProviderSelection(){this.isModalOpening=!0,await u.ModalHelper.openModal(d.v,{providerPlace:p.a.SETTINGS},{cssClass:"packages-selection-modal"},p.a.SETTINGS,!0),this.isModalOpening=!1}};Object(i.c)([Object(s.g)({default:!0})],j.prototype,"addButtonVisible",void 0),Object(i.c)([Object(s.g)({default:!1})],j.prototype,"showAddButtonFirst",void 0),Object(i.c)([Object(s.g)()],j.prototype,"collectionType",void 0),Object(i.c)([Object(s.g)({default:""})],j.prototype,"newPageType",void 0),Object(i.c)([Object(s.g)()],j.prototype,"currentFilters",void 0),Object(i.c)([Object(s.g)({type:Boolean,default:!0})],j.prototype,"providersClickable",void 0),Object(i.c)([Object(s.g)({default:()=>[]})],j.prototype,"userProviders",void 0),Object(i.c)([Object(s.g)()],j.prototype,"userSettings",void 0),Object(i.c)([Object(s.g)()],j.prototype,"webLocale",void 0),Object(i.c)([Object(s.g)({default:!0})],j.prototype,"updateRouteState",void 0),Object(i.c)([Object(s.g)({default:!0})],j.prototype,"trackEvent",void 0),Object(i.c)([Object(s.g)()],j.prototype,"userSelectedPackages",void 0),Object(i.c)([Object(s.d)(h.b)],j.prototype,"genresByShortName",void 0),Object(i.c)([m.Getter],j.prototype,"allProvidersById",void 0),Object(i.c)([m.Getter],j.prototype,"providers",void 0),Object(i.c)([m.Getter],j.prototype,"providersByShortName",void 0),Object(i.c)([m.Mutation],j.prototype,"SET_UPCOMING_PROVIDERS",void 0),Object(i.c)([_.Action],j.prototype,"toggle",void 0),Object(i.c)([P.Getter],j.prototype,"language",void 0),Object(i.c)([P.Getter],j.prototype,"country",void 0),Object(i.c)([O.State],j.prototype,"activeRoute",void 0),Object(i.c)([I.State],j.prototype,"settings",void 0),Object(i.c)([Object(s.l)("userProviders",{immediate:!0})],j.prototype,"onProvidersChange",null),Object(i.c)([Object(s.l)("recalculatedProviderUrlProp",{immediate:!0})],j.prototype,"onRecalculatedProviderUrlPropChange",null),j=Object(i.c)([Object(s.a)({name:"NewFilterBarProviderSeo",components:{HiddenHorizontalScrollbar:n.default,ProviderIcon:c.default},apollo:{upcomingProvidersData:{query:f.a,variables(){return{country:this.country,pageType:b.p.Upcoming,language:this.language,first:32}},update(e){var t;const r=((null===(t=e.newTitles)||void 0===t?void 0:t.edges)||[]).map(e=>{var t;return null==e||null===(t=e.node)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.upcomingReleases}).flat().map(e=>{var t;return null==e||null===(t=e.package)||void 0===t?void 0:t.packageId});return new Set(r)},result(e,t){this.SET_UPCOMING_PROVIDERS(this.upcomingProvidersData)},skip(){return!["app.titles.upcoming","app.titles.new","app.titles.pricedrops"].some(e=>{var t;return null===(t=this.$route)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.startsWith(e)})},error(e){console.log(e),this.showErrorToast()}}},serverCacheKey:t=>{const{currentFilters:r,webLocale:i,userSettings:o,collectionType:s,newPageType:a}=t,d=Object(g.b)(Object.keys(r),r),{providers:n=[],...c}=d;if(i&&s&&0===Object.keys(c).length&&n.length<=1&&(0===n.length||t.userProviders.findIndex(e=>n[0]===e.shortName)<e.NEW_TIMELINE_TITLES_PER_BUCKET_LIMIT)&&0===(o.providers||[]).length){const e=n.slice(-1);return`${i}-${s}-${a}-${1===e.length?e[0]:t.userProviders.length}`}return!1}})],j),t.a=j}).call(this,r("c8ba"))},1978:function(e,t,r){(t=r("24fb")(!1)).push([e.i,":root{--border-secondary:#657182;--border-secondary-medium:#c6c8cd;--border-primary:#fbc500;--border-radius-xs:4px;--border-radius-sm:8px;--border-radius-md:12px;--border-width-100:1px;--border-width-200:2px;--link-link-medium:#78a6b8;--text-high-default:#fff;--text-medium-default:#b9bdcc;--background-medium:#111924;--background-medium-active:#222c38}.filter-bar-seo__provider-row{margin-bottom:5px}.filter-bar-seo__provider-icon{display:inline-block;width:50px;height:50px;opacity:.25;margin:10px 5px;transition:opacity .2s ease-in-out;cursor:pointer}.filter-bar-seo__provider-icon button{all:unset}.filter-bar-seo__provider-icon img{width:100%}.filter-bar-seo__provider-icon:first-child{margin-inline-start:0}.filter-bar-seo__provider-icon.active{opacity:1}.filter-bar-seo__provider-icon.disabled{opacity:.25;filter:grayscale(100%);pointer-events:none}",""]),e.exports=t},"2e3d":function(e,t,r){var i=r("1978");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r("499e").default)("59f5066d",i,!0,{sourceMap:!1,shadowMode:!1})},5025:function(e,t,r){"use strict";var i;r.d(t,"a",(function(){return i})),function(e){e.BAR="bar",e.SETTINGS="settings"}(i||(i={}))},5216:function(e,t,r){"use strict";r.r(t);var i=r("2638"),o=r.n(i),s=r("2b0e");const a="image/webp",d=".webp";var n=r("0c91b");const c=({h:e,contextData:t,providerName:r,imageUrl:i,webpImageUrl:s,providerId:d,lazy:n})=>{let c=null;s&&(c=e("source",{attrs:{type:a,media:"(min-width: 0px)",srcset:n?"":s,"data-srcset":n?s:""}}));const l=e("img",o()([{class:`${c?"":"provider-icon"} ${n?"lazyload":""}`,attrs:{alt:r,title:r,"data-sizes":n?"auto":void 0,src:n?"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==":i,"data-src":n?i:void 0}},t]));return c?e("picture",{class:"provider-icon"},[c,l]):l};var l=s.default.extend({name:"ProviderIcon",functional:!0,props:{providerId:{type:Number},lazy:{type:Boolean,default:!0},size:{type:String,default:"provider_icon_small",validator:e=>["provider_icon","provider_icon_small","provider_icon_button"].includes(e)},imgUrl:{type:String},iconUrl:{type:String},providersById:{type:Object}},render(e,t){const{imgUrl:r,lazy:i,providerId:o,size:s,iconUrl:a}=t.props;if(!o)throw new Error("providerId has to be defined");if(r)return c({h:e,contextData:t.data,imageUrl:"https://images.justwatch.com"+r,providerName:"JustWatch",providerId:o,lazy:i});const l=t.props.providersById?t.props.providersById[o]:t.parent.$store.getters["constant/allProvidersById"][o],p=l?l.clearName:"JustWatch";let u="https://static.justwatch.com/static/compile_jw/assets/jw-icon-badge.png";a?u=a:l&&(u=l.icon),u.startsWith("/")||u.startsWith("http")||(u="/".concat(u));const v=e=>Object(n.b)(t.parent.$store.state)({url:u,imageType:s,extension:e,criticalImage:!i,slug:"icon"});return c({h:e,contextData:t.data,imageUrl:v(),webpImageUrl:v(d),providerName:p,providerId:o,lazy:i})}}),p=(r("d3e8"),r("2877")),u=Object(p.a)(l,void 0,void 0,!1,null,null,null);t.default=u.exports},"6eb4":function(e,t,r){var i=r("0f20");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r("499e").default)("8f7ba154",i,!0,{sourceMap:!1,shadowMode:!1})},d3e8:function(e,t,r){"use strict";r("6eb4")},e12a:function(e,t,r){"use strict";r("2e3d")},e69d:function(e,t,r){"use strict";r.r(t);var i=r("1954").a,o=(r("e12a"),r("2877")),s=Object(o.a)(i,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("HiddenHorizontalScrollbar",{staticClass:"filter-bar-seo__provider-row"},[e.plusIconIsVisible&&e.showAddButtonFirst?t("div",{staticClass:"filter-bar-seo__provider-icon filter-bar-seo__provider-icon--plus"},[t("button",{on:{click:function(t){t.preventDefault(),!e.isModalOpening&&e.openProviderSelection()}}},[t("img",{staticClass:"provider-icon",staticStyle:{border:"1px solid rgba(255, 255, 255, 0.7)"},attrs:{src:e.plusIcon,alt:"Provider Selection"}})])]):e._e(),e._l(e.filteredProviders,(function(r,i){return t("div",{key:r.packageId,staticClass:"filter-bar-seo__provider-icon filter-bar-seo__provider-icon--provider",class:{active:e.isProviderActive(r.shortName),disabled:e.isProviderDisabled(r.packageId)},attrs:{id:"filterbar-"+r.packageId}},[t(e.providerTag,{tag:"component",attrs:{href:e.isProviderDisabled(r.packageId)?null:e.providerUrls[r.shortName]},on:{click:function(t){return t.preventDefault(),e.providerClicked(r.shortName)}}},[t("ProviderIcon",{attrs:{providerId:r.packageId,providersById:e._providersById,size:"provider_icon",lazy:i>=e.IMG_PROVIDERS_BAR_LOAD_COUNT}})],1)],1)})),e.plusIconIsVisible&&!e.showAddButtonFirst?t("div",{staticClass:"filter-bar-seo__provider-icon filter-bar-seo__provider-icon--plus"},[t("button",{on:{click:function(t){t.preventDefault(),!e.isModalOpening&&e.openProviderSelection()}}},[t("img",{staticClass:"provider-icon",staticStyle:{border:"1px solid rgba(255, 255, 255, 0.7)"},attrs:{src:e.plusIcon,alt:"Provider Selection"}})])]):e._e()],2)}),[],!1,null,null,null);t.default=s.exports},f95d:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));const i=r("5184").a`
	query GetUpcomingProviders($country: Country!, $pageType: NewPageType!, $language: Language!, $first: Int!) {
		newTitles(country: $country, pageType: $pageType, first: $first) {
			edges {
				node {
					content(country: $country, language: $language) {
						upcomingReleases {
							package {
								packageId
							}
						}
					}
				}
			}
		}
	}
`}}]);
//# sourceMappingURL=1721746505549_chunk-8d1f912c.98d0d80c.js.map
//# debugId=43b01834-1453-511e-b8af-b01d42c1e28b
